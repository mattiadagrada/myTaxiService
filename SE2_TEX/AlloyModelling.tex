\section{Alloy Modelling}
	In this chapter the consistency of the proposed Class Diagram will be
	tested via Alloy Analyser. The report that follow is composed by the code
	used to describe the model and an example of world generated by our predicates.
	\subsection{Alloy Code}
	\lstset{language=Alloy}
	\begin{lstlisting}
module MyTaxiService

/*** Class declaration ***/

sig GenericText{}
sig GenericData{
	year: one GenericText,
	month: one GenericText,
	day: one GenericText,
	hour: one GenericText,
	minute: one GenericText,
}

sig Guest {
	name: one GenericText,
	surname: one GenericText
	ip: one GenericText
	--telephone: one GenericText
}
		
sig RegisteredPassenger extends Guest{
	username: one GenericText,
	email: one GenericText,
	--password: one GenericText,
}

sig TaxiDriver{
	taxiID: one GenericText,
	availability: one boolean
	--name: one GenericText,
	--surname: one GenericText
}

sig Request{
	area: one Area,
	passenger: one Guest
	--when: one GenericData
}

sig Reservation{
	passenger: one RegisteredPassenger,
	area: one Area,
	when: one GenericData
}

sig Area {
	queue: one Queue
	--where: GenericText
}

sig Queue{
	taxis: set TaxiDriver
}
	
-- there are also other attributes but are not relevants for this representation
	
/*** DEFINITION OF THE CONSTRAINTS ***/
	
--each email has to be unique
fact emailUnicity{
	no disj rp1, rp2: RegisteredPassenger | rp1.email = rp2.email
}

--each usernamehas to be unique
fact usernameUnicity{
	no disj rp1, rp2: RegisteredPassenger | rp1.username = rp2.username
}

--each taxiID has to be unique
fact taxiIDUnicity{
	no disj t1, t2: TaxiDriver | t1.taxiID = t2.taxiID
}

--each taxi, if available, must be in only one queue
fact onlyOneTaxi{
	all t: TaxiDriver | t.available = true implies one q: Queue | t in q.taxis
	and no disj q1, q2: Queue | t in q1 ans t in q2
}

--each taxi, if not available, must not be in any queue
fact onlyOneTaxi{
	all t: TaxiDriver | t.available = false implies all q: Queue | t not in q.taxis
}

	\end{lstlisting}
	\subsection{Alloy Response}
	\subsection{Alloy Result Evaluation}